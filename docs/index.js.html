<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import "../css/style.scss";
import Filter from "./Filter";
import "animate.css";

/**
 * Swiper
 * @type {object}
 * @summary creates swiper as instance of Swiper class.
 */
const mobileSwiper = new Swiper(".swiperM", {
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  },
});

let init = false;
var swiper = Swiper;

/**
 * Swiper
 * @function swiperCard
 * @summary Creates swiper instance if window width is less than 800px. Swiper in product card not necessary on desktop.
 */

function swiperCard() {
  if (window.innerWidth &lt;= 800) {
    if (!init) {
      init = true;
      swiper = new Swiper(".swiperD");
    }
  } else if (init) {
    swiper.destroy();
    init = false;
  }
}
swiperCard();
window.addEventListener("resize", swiperCard);

/**
 * Main filter
 * @type {object}
 * @summary creates main filter as instance of Filter class.
 */
const mainFilter = new Filter();

// Mobile nav
document
  .querySelector(".mobile-nav-btn")
  .addEventListener("click", openCloseMobileNav);
document
  .querySelector(".mobile-home-btn")
  .addEventListener("click", openCloseMobileNav);
document
  .querySelector(".mobile-products-btn")
  .addEventListener("click", openCloseMobileNav);
document
  .querySelector(".mobile-contact-btn")
  .addEventListener("click", openCloseMobileNav);
document
  .querySelector(".overlay")
  .addEventListener("click", openCloseMobileNav);

document.querySelectorAll(".logo-btn").forEach((element) => {
  element.addEventListener("click", closeMobileNav);
});

/**
 * OpenCloseMobileNav
 * @function openCloseMobileNav
 * @summary Opens and closes mobile nav and takes care of overlay.
 */

function openCloseMobileNav() {
  document.querySelector(".nav-container-mobile").classList.toggle("open");
  if (
    document.querySelector(".nav-container-mobile").classList.contains("open")
  ) {
    document.body.style.overflow = "hidden";
    document.querySelector(".overlay").style.opacity = 1;
    document.querySelector(".overlay").style.pointerEvents = "all";
    document.querySelector(".mobile-nav-btn").classList.remove("fa-bars");
    document
      .querySelector(".mobile-nav-btn")
      .classList.add("fa-bars-staggered");
  } else {
    document.body.style.overflow = "auto";
    document.querySelector(".overlay").style.opacity = 0;
    document.querySelector(".overlay").style.pointerEvents = "none";
    document.querySelector(".mobile-nav-btn").classList.add("fa-bars");
    document
      .querySelector(".mobile-nav-btn")
      .classList.remove("fa-bars-staggered");
  }
}

/**
 * closeMobileNav
 * @function closeMobileNav
 * @summary Separate function for closing mobile nav. Used for logo button and overlay.
 */

function closeMobileNav() {
  if (
    document.querySelector(".nav-container-mobile").classList.contains("open")
  ) {
    document.querySelector(".nav-container-mobile").classList.remove("open");
    document.body.style.overflow = "auto";
    document.querySelector(".overlay").style.opacity = 0;
    document.querySelector(".overlay").style.pointerEvents = "none";
    document.querySelector(".mobile-nav-btn").classList.add("fa-bars");
    document
      .querySelector(".mobile-nav-btn")
      .classList.remove("fa-bars-staggered");
  }
}

// ---------- MODAL -------->
// Get the modal
document.querySelectorAll(".card-front").forEach((element) => {
  element.addEventListener("click", (e) => {
    document
      .elementsFromPoint(e.clientX, e.clientY)
      .filter((x) => x.classList.contains("product-card"))[0]
      .querySelector(".product-modal")
      .showModal();
    // document.body.style.overflow = "hidden";
  });
});

document.querySelectorAll(".close").forEach((element) => {
  element.addEventListener("click", (e) => {
    e.target.closest(".product-modal").close();
    // document.body.style.overflow = "auto";
  });
});

window.addEventListener("click", (e) => {
  if (e.target.classList.contains("product-modal")) {
    e.target.close();
    // document.body.style.overflow = "auto";
    // ESCAPE must be added separately
  }
});

// ---------- BACK TO PRODUCTS -------->
// only showing button when scrolling up
let lastScrollTop = 0;
window.addEventListener("scroll", function (e) {
  const scrollTop =
    document.body.scrollTop || document.documentElement.scrollTop;
  if (scrollTop &lt; lastScrollTop) {
    back2prod.style.display = "block";
  } else {
    back2prod.style.display = "none";
  }
  lastScrollTop = scrollTop;
});

// only showing button when scrolling past 1000px
const back2prod = document.querySelector(".grid-container > a");
window.addEventListener("scroll", function (e) {
  if (
    document.body.scrollTop > 1000 ||
    document.documentElement.scrollTop > 1000
  ) {
    back2prod.style.display = "block";
  } else {
    back2prod.style.display = "none";
  }
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Filter.html">Filter</a></li><li><a href="SubFilterBtn.html">SubFilterBtn</a></li></ul><h3>Global</h3><ul><li><a href="global.html#closeMobileNav">closeMobileNav</a></li><li><a href="global.html#mainFilter">mainFilter</a></li><li><a href="global.html#mobileSwiper">mobileSwiper</a></li><li><a href="global.html#openCloseMobileNav">openCloseMobileNav</a></li><li><a href="global.html#swiperCard">swiperCard</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Sun Jan 15 2023 15:56:32 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
